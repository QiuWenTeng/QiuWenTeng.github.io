<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="邱雯腾的博客">
    <meta name="keyword"  content="程序媛">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        移动端适配之视口和meta标签 - 邱雯腾的博客
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i>  </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="name">
            <div class="myname">邱雯腾</div>
            <div class="detail">会拍照的程序媛</div>
            <!-- <div class="avatar">
                <img src="../../source/css/me.jpg">
            </div> -->
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>HOME</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>技术钻研</span>
                </a>
            </li>
            <li >
                <a href="/life">
                    <i class="iconfont icon-guidang2"></i>
                    <span>生活感悟</span>
                </a>
            </li>
            <!-- <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li> -->
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>我的生活</span>
                </a>
            </li>
            <!-- 
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>SEARCH</span>
                </a>
            </li>
             -->
        </ul>
    </div>
    
        <!-- <div id="toc" class="toc-article">
    
</div> -->
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">search</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i>  </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        移动端适配之视口和meta标签
    </div>

    <div class="post-meta">
        <span class="attr"><span>2018-09-06 22:34:47</span></span>
        
        </span>
        <span class="attr">阅读：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <p>这是关于移动端适配的第一篇文章，这篇文章主要介绍<strong>视口以及和视口有关的meta标签</strong>的使用。</p>
<p>不管三七二十一，我们先新建一个页面：</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot;&gt;
        &lt;title&gt;这不是一个demo&lt;/title&gt;
        &lt;style type=&quot;text/css&quot;&gt;
            *{margin: 0; padding: 0;}
            div{height: 100px; background: red;}
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div&gt;&lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>在谷歌浏览器下，我们可以看到不同手机的适配情况：<br><img src="https://image-static.segmentfault.com/782/948/782948651-5b87ef1eeb2f9_articlex" alt="iPhone5下" title="iPhone5下"></p>
<p><img src="https://image-static.segmentfault.com/569/577/56957775-5b87ef722c38d_articlex" alt="图片描述" title="图片描述"></p>
<p><img src="https://image-static.segmentfault.com/339/717/3397179390-5b87ef9eb2ecd_articlex" alt="图片描述" title="图片描述"></p>
<p>可以看出，不管是i5/i6/i6plus下，div的宽度都为980px，这个980是什么值，为什么它好像和移动设备无关？</p>
<p>其实这个980所表示的就是<strong>布局视口</strong>。<br><strong>布局视口layout viewport</strong> ：就是移动设备上用来装载我们的网页的那一块区域。浏览器厂商为了让用户在小屏幕下网页也能够显示地很好，所以把布局视口宽度设置地很大，一般在 768px ~ 1024px之间。不同的设备有不同的宽度。最常见的宽度是980。下图是不同设备下布局视口的大小。</p>
<p><img src="https://image-static.segmentfault.com/352/576/3525763610-5aec0b00b2950_articlex" alt="300958470402077.png"></p>
<p>布局视口有980像素，可是我们的屏幕很小，按理说应该会有滚动条才是，可实际上并没有。这就需要归功于另一个视口：<strong>视觉视口</strong>。</p>
<p><strong>视觉视口visual viewport</strong>：屏幕上显示的页面的一部分。听起来很玄乎，可是你认真看下面这张图，你就能明白视觉视口(visual viewport)和布局视口(layout viewport)的关系了：<br><img src="https://image-static.segmentfault.com/426/324/4263242685-5b89f18dbf5e3_articlex" alt="图片描述" title="图片描述"><br><img src="https://image-static.segmentfault.com/382/903/3829031657-5b89f1ca2fab9_articlex" alt="图片描述" title="图片描述"></p>
<p>此时，因为我们的视觉视口 = 布局视口，所以没有出现滚动条。虽说是没有滚动条，但是pc端能友好显示的页面，在移动端上就显示的很怪异。字体很小，很难看清。比如亲爱的百度：<br><img src="https://image-static.segmentfault.com/242/129/2421291971-5b87f2518ba3d_articlex" alt="图片描述" title="图片描述"></p>
<p>如果想让字体大小可读，又该怎么办？在此之前，我们还需要了解另一个视口，<strong>理想视口</strong>。<br><strong>理想视口ideal viewport</strong>：它提供了设备上理想网页的大小。这个值可以在<a href="http://viewportsizes.com/" target="_blank" rel="noopener">不同设备的理想视口</a>查到。常用的有：i5是320，i8是375，plus是414。</p>
<p>扯了那么多，那要如何适配呢？<br>相信一定会有一些前辈，他们苦口婆心地告诉你，你只要加这一行代码就可以了：</p>
<pre><code>&lt;meta content=&quot;width=device-width, initial-scale=1.0&quot; name=&quot;viewport&quot;&gt;
</code></pre><p>怀有好奇心的我们，勇敢地作出了尝试：</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot;&gt;
        &lt;meta content=&quot;width=device-width, initial-scale=1.0&quot; name=&quot;viewport&quot;&gt;
        &lt;title&gt;这不是一个demo&lt;/title&gt;
        &lt;style type=&quot;text/css&quot;&gt;
            *{margin: 0; padding: 0;}
            div{height: 100px; background: red;}
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div&gt;hello world&lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>得到了如下的效果：<br><img src="https://image-static.segmentfault.com/188/518/1885183793-5b89f968a9681_articlex" alt="图片描述" title="图片描述"><br><img src="https://image-static.segmentfault.com/383/160/3831604168-5b89f98ec110f_articlex" alt="图片描述" title="图片描述"><br><img src="https://image-static.segmentfault.com/132/892/1328921631-5b89f9b64d8c7_articlex" alt="图片描述" title="图片描述"></p>
<p>字体在三大尺寸下，显示都算是友好，但是奇怪的是div的宽度不再是980，而是和设备的宽度有关。这一切，都得归功于我们刚刚加的<code>width=device-width</code>了。</p>
<p><code>width=device-width</code>，这句代码的意思就是把布局视口 = 理想视口。那既然布局视口跟着变了，那刚刚的视觉视口又算咋回事啊，它现在的值等于多少？这不还有我们刚刚设置的另一个代码<code>initial-scale=1.0</code>，它的作用就是改变视觉视口的。</p>
<p><code>initial-scale</code>指的是缩放系数。其中有这样的公式：</p>
<blockquote>
<p>视觉视口宽度 = 理想视口宽度 / 缩放系数<br>缩放系数 = 理想视口宽度 / 视觉视口宽度</p>
</blockquote>
<p>拿i5的机型来说，根据公式可得：<br>视觉视口宽度 = 320 / 1 = 320<br>布局视口宽度 = 320<br>所以：视觉视口宽度 = 布局视口宽度。页面无滚动条。</p>
<p>那如果我改变<code>initial-scale</code>的值会有什么反应呢，同样我以i5的机型做示范：</p>
<pre><code>initial-scale = 0.5 「 div宽度640，页面无滚动条 」
</code></pre><p><img src="https://image-static.segmentfault.com/204/065/2040654142-5b89fcd750c4e_articlex" alt="图片描述" title="图片描述"></p>
<pre><code>initial-scale = 1 「 div宽度320，页面无滚动条 」
</code></pre><p><img src="https://image-static.segmentfault.com/188/518/1885183793-5b89f968a9681_articlex" alt="图片描述" title="图片描述"></p>
<pre><code>initial-scale = 1 「 div宽度320，页面有滚动条 」
</code></pre><p><img src="https://image-static.segmentfault.com/135/127/1351270005-5b89fe0d3ccba_articlex" alt="图片描述" title="图片描述"></p>
<p>现在我们好好来捋捋：</p>
<pre><code>initial-scale = 0.5 「 div宽度640，页面无滚动条 」
视觉视口宽度 = 320 / 0.5 = 640
布局视口宽度 = 320
又因为：视觉视口不能大于布局视口，所以此时，将布局视口的宽度提高等于640
总结：视觉视口 = 布局视口 = 640

initial-scale = 1 「 div宽度320，页面无滚动条 」
视觉视口宽度 = 320 / 1 = 320
布局视口宽度 = 320
总结：视觉视口 = 布局视口 = 320

initial-scale = 2 「 div宽度320，页面有滚动条 」
视觉视口宽度 = 320 / 2 = 160
布局视口宽度 = 320
总结：视觉视口 &lt; 布局视口 页面出现了滚动条。
</code></pre><p>最后总结：</p>
<ol>
<li><strong>页面是否出现滚动条，看布局视口和视觉视口的大小</strong></li>
<li><strong>页面元素的宽度取决于布局视口的大小</strong></li>
</ol>
<p>留个思考题：为什么在未设置<meta>的情况下，页面无滚动条，浏览器做了哪些默认的设置？</p>
<p>参考：</p>
<ol>
<li><a href="https://www.quirksmode.org/mobile/viewports.html" target="_blank" rel="noopener">ppk大神讲解视口第一篇</a></li>
<li><a href="https://www.quirksmode.org/mobile/viewports2.html" target="_blank" rel="noopener">ppk大神讲解视口第二篇</a></li>
<li><a href="https://www.quirksmode.org/mobile/metaviewport/" target="_blank" rel="noopener">ppk大神讲解视口第三篇</a></li>
</ol>

        
        <div id="comment-container">
        </div>
    </div>
</div>
    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.xml"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

</html>
